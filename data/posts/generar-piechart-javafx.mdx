---
title: Generar un gráfico Pie con JavaFX
summary: Crearás una aplicación simple en JavaFX para ver en un gráfico estadístico en forma de Pie los resultados de unas elecciones de partidos políticos.
tags: [java, javafx]
date: 2017-05-28 08:00
language: es
---

Crearás una aplicación simple en *JavaFX* para ver en un gráfico estadístico en forma de *Pie* los resultados de unas elecciones de partidos políticos.

![Resultado](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx5.png?alt=media&token=56528c8c-27fb-4ff6-ad3d-fef3b92b9539)

__Aprenderás__

* Crear una aplicación _JavaFX_
* Uso de la clase `PieChart` y algunos de sus métodos

## Nuevo proyecto

Crea un nuevo proyecto normal en _Java_ en tu IDE que se llame "Elecciones".

### Haciendo que sea una aplicación JavaFX

Los siguientes pasos hacen uso de las sugerencias y autocompletado de *IntelliJ IDEA*.

Primero haz que herede de la clase `Application` de esta forma:

```java
public class Main extends Application {
```

Luego aparecerá un error de importación, presiona el atajo de teclado `Alt+Enter` e importa la clase.

![Generar 1](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx1.png?alt=media&token=d477713b-9e97-495a-bd35-cfd382797c00)

Luego en el siguiente error haz que tu cursos este en en Applicaction y presiona de nuevo `Alt+Enter` y eso generará el método `start`.

![Generar 2](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx2.png?alt=media&token=fd9124af-6844-4590-b695-612e929cd122)

Confirma la acción presionando en OK:

![Generar 3](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx3.png?alt=media&token=74f4a531-7f47-4216-81b5-51be8fb4b0fc)

Al final tu clase debería quedar así:

![Generar 4](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx4.png?alt=media&token=d55d9b38-a68c-484b-a8d3-83e8d7864da7)

## Datos

Ahora crearás los datos que queremos graficar. La clase que usaremos para hacer una gráfico de __Pie__ o de torta es `PieChart`. Esta clase acepta por defecto un tipo de lista especial y se crea de la siguiente manera:

```java
ObservableList<PieChart.Data> datos = FXCollections.observableArrayList(
                new PieChart.Data("Partido 1", 230),
                new PieChart.Data("Partido 2", 70),
                new PieChart.Data("Partido 3", 120)
        );
```

Hay que importar para que no aparezcan los errores con `Alt+Enter` para las tres clases nuevas, `PieChart`, `FXCollections` y `ObservableList`.

Como podemos observar lo que estamos haciendo es crear tres partidos políticos y el número al lado es el número de votos que consiguió, puedes adicionar más partidos o cambiar los números.

## PieChart

Ahora crearemos el gráfico, para eso es tan simple como crearse una instancia de `PieChart` y usar los métodos que tiene de la siguiente manera:

```java
PieChart grafico = new PieChart(datos);
grafico.setTitle("Elecciones nacionales");
grafico.setLegendSide(Side.LEFT);
```

Con la primera linea estas creando un `PieChart` con los datos que creamos antes. Luego le damos un título al gráfico y la última linea como su nombre lo dice esta colocando la leyenda del gráfico a la izquierda.

De la misma forma si aparece error debe ser por que tienes que importar la clase `Side` con `Alt+Enter`.

## Mostrando el gráfico

Ya tenemos el gráfico creado y con datos, solo falta mostrarlo en una pantalla de una aplicación JavaFX.

En este caso la aplicación solo tendrá el gráfico entonces podríamos realizar lo siguiente:

```java
Scene scene = new Scene(grafico, 400, 400);
primaryStage.setScene(scene);
primaryStage.show();
```

Creamos una `Scene` que tenga como contenido el gráfico que creaste y que la ventana sea de 400 de ancho y 400 de alto.

Al final tu aplicación completa debería quedar así:

![Clase](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx44.png?alt=media&token=caaad7ae-7919-47f0-abdc-1274fa5ddb33)

## Ejecutando

¡Eso es todo! Si ejecutas la aplicación podrás ver el resultado siguiente:

![Resultado](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fgenerar-piechart-javafx%2Ffx5.png?alt=media&token=56528c8c-27fb-4ff6-ad3d-fef3b92b9539)

_JavaFX_ es muy poderosa a la hora de generar gráficos estadísticos nativos para escritorio. Ahora puedes probar más de los muchos gráficos estadísticos que tiene _JavaFX_.
