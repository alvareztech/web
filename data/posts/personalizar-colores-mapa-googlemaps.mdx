---
title: Personalizar colores, caminos, etiquetas y otros en tu mapa GoogleMaps
summary: En este tutorial verás como gestionar los permisos para las versiones Android 6.0 o superior.
tags: [android, google maps]
date: 2017-04-23 08:00
language: es
---

Ya sea para crear una aplicación diferente, adaptarse al estilo de la aplicación, crear un juego con mapas, en este *lab* aprenderás a personalizar tu mapa de **GoogleMaps** en tu aplicación Android.

![Final](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fdevice-2017-04-24-122754.png?alt=media&token=53957c13-a222-4766-a835-24a7e5208d98)

__Aprenderás__

* Personalizar colores, caminos, etiquetas y más.
* Usar el asistente de Google para la personalización.
* Crear un archivo JSON en la carpeta de recursos `raw`

## Proyecto base

Vamos a empezar de una aplicación en blanco pero que ya tiene configurado _Google Maps_ (con su API Key) y el mapa ya se muestra.

![App Map lista](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fclear.png?alt=media&token=b9c9cd2c-1f88-47ea-98ad-4f307bdadeca)

> Puedes borrar los comentarios y el marcador por defecto que aparece al usar el asistente de Android Studio.

## Personalizar Mapa

En resumen para personalizar la apariencia del mapa se necesita colocar dicha personalización en un archivo JSON y que tu mapa lo cargue, el objetivo entonces es generar ese JSON.

Si bien antes teníamos que generarlo por nuestra cuenta con la documentación, vamos a usar una excelente herramienta de Google, online.

Esta genial herramienta nos permitirá generar en formato JSON luego de haber personalizado y visto en tiempo real los cambios. Accede a:

[Google Maps APIs Styling Wizard](https://mapstyle.withgoogle.com/)

## Google Maps APIs Styling Wizard

Ingresamos y lo primero que podemos ver es la pantalla de bienvenida con dos opciones:

* **Create a style**, crear un estilo y verlo en tiempo real.
* **Import JSON**, por si ya tienes un archivo JSON de estilo para seguirlo modificarlo o ver cual es el estilo.

Tu crearás un estilo nuevo así que selecciona la primera opción.

![Style 1](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle1.png?alt=media&token=c378124a-ab77-456e-9e50-4318f5550621)

Lo primero que podemos ver es una barra de personalización y un mapa que te mostrará como quedarán tus cambios, puedes navegar por el mapa, ir a un lugar en especifico, etc.

![Style 2](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle2.png?alt=media&token=7e7bb03f-5bcb-4e43-be0a-be5dfeea1f49)

Por ejemplo puedes ir probando los temas que ya se tiene para trabajar en base a ellos o usarlos.

![Style 3](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle4.png?alt=media&token=10454539-0759-41d3-b591-deef96cc9123)

También puedes jugar con los sliders en arriba, por ejemplo puedes hacer que no se vean los nombres de las calles, no se vean carreteras, etc.

![Style](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle5.png?alt=media&token=cdf2954f-3083-41e0-a239-d000d96a6030)

### Opciones avanzadas

Si quieres personalizar algo más puedes presionar **MORE OPTIONS**.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle6.png?alt=media&token=0e439fb7-46ca-4738-b512-ab9a95fb28dd)

Ahí podrás personalizar entre muchas opciones, los color, grosor, etc. Por ejemplo haremos que las carreteras sean de color rojo.

![Red](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle7.png?alt=media&token=c7d0e7b6-bebd-45a0-8801-c9b4311cfc18)

## Reset

Como puedes ver, puedes cambiar varias cosas, usar muchos colores, etc. Si en algún momento quieres volver al estado original puedes resetearlo con el botón de más opciones en la barra de herramientas y luego *Reset*.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle8.png?alt=media&token=692805cc-0a23-4dea-9381-d66bb2fea3cf)

No lo hagas si ya tienes tu estilo como te gusta.

## Terminar personalización

Cuando ya termines de personalizar el mapa puedes presionar el botón *Finish* en la parte inferior de la barra de herramientas.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle9.png?alt=media&token=081a3c42-b1ef-422d-8102-4497ce09bfe6)

Y aparecerá la siguiente pantalla donde podemos encontrar el JSON que necesitamos.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstyle10.png?alt=media&token=c4ae9538-53fb-4dcb-8715-5602631abc19)

Puedes presionar *COPY JSON* para usarlo y ponerlo a nuestra aplicación como se muestras en los siguientes pasos.

## Archivo JSON en tu proyecto

En el anterior paso ya obtuvimos el contenido JSON que necesitamos, pero ahora tenemos que decidir en que parte de nuestro proyecto en Android Studio lo podemos colocar.

En lugar más adecuado es en la carpeta de recursos `raw`, por defecto  no se crea esa carpeta en un proyecto en blanco, por lo tanto tienes que crearlo tu.

### Crear carpeta `raw`

Se puede hacer de varias formas, la forma más natural es haciendo click derecho en la carpeta de recursos `res`, *New* y luego *Android resource directory*.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio1.png?alt=media&token=fe63f85e-6b10-44d9-ad06-885b4aeec4ce)

En la ventana que aparecerá cambiamos el tipo a `raw` y presionamos OK.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio2.png?alt=media&token=851de56c-5602-41c9-af1e-213f78114d55)

Y listo, puedes verificar que se creo en el explorador:

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio3.png?alt=media&token=7c3ec1a2-fb90-4855-9cd1-143501f9355c)

Dentro de esa carpeta estará un archivo JSON que crearás y en el cual debes colocar el contenido JSON que se generó de la página de Google.

Nota. En el directorio `raw` es donde se colocan archivos varios que no entran en las otras carpetas de recursos. Por ejemplo si tu aplicación usará otros JSON o PDFs u otros puedes colocarlo ahí.

### Archivo JSON

Para crear un archivo genérico en este caso un archivo con terminación `.json` es click derecho, *New*, *File*.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio4.png?alt=media&token=bfcf2a60-7e7c-400f-81b0-876a4e58ce12)

En la ventana colocamos el nombre y la extensión del archivo, se recomienda nombre en minúsculas y palabras separadas por barras bajas, en este caso `map_style.json`.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio5.png?alt=media&token=e2a60583-d2eb-4c74-a37f-cf91ec016961)

Y con eso ya tienes el archivo en blanco generado, ahí es donde pegas el contenido JSON que te generó la página en el anterior paso.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio6.png?alt=media&token=5a200881-e52c-4d91-aa1d-3a198ebfb20e)

Toma en cuenta que también ahi puedes editar y hacer aún más modificaciones.

## Usando el archivo JSON

Lo que falta es muy sencillo, con un par de lineas de código haremos que tu mapa use el estilo deseado.

La primera linea es para obtener el estilo, empezamos a escribir `MapStyleOptions` y por comodidad apenas aparezca haces caso a la sugerencia para que lo importe automáticamente.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio7.png?alt=media&token=b317a314-ca72-4555-95d1-e1778b9fc23a)

Los parámetros que recibe, es el contexto (this para en este caso), y el archivo JSON que creaste en el anterior paso que se lo coloca sin extensión de esta forma `R.raw.map_style`.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fstudio8.png?alt=media&token=bfe34e51-a6f5-4f19-a51b-1b9540899b39)

La última linea es simplemente al mapa `mMap` asignarle el estilo con  `setMapStyle(...)`.

## Eso es todo

Ejecuta tu aplicación y verás como tu mapa adopto el estilo deseado.

![](https://firebasestorage.googleapis.com/v0/b/maksha-41f4f.appspot.com/o/labs%2Fpersonalizar-colores-mapa-googlemaps%2Fdevice-2017-04-24-122754.png?alt=media&token=53957c13-a222-4766-a835-24a7e5208d98)

Ahora puedes crear mapas totalmente personalizados con la potencia de _Google Maps_. Colores de tu empresa, si estas haciendo un juego, etc.
